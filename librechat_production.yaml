version: "1.3.3"
cache: true

# --- INTERFACE ---
interface:
  agents: true
  prompts: true
  tools: true
  artifacts: true
  modelSelect: true 
  sidePanel: true
  bookmarks: true

# --- MODEL SPECS (The "Elite" Picker) ---
modelSpecs:
  enforce: false
  prioritize: true
  # CRITICAL: This line brings back your provider menus next to the specs
  addedEndpoints: ["Fireworks", "OpenRouter", "Featherless"]
  list:
    - name: "kimi-k2.5-agent"
      label: "Kimi K2.5 (High-Speed Agent)"
      endpoint: "Featherless" 
      model: "moonshotai/Kimi-K2.5"
      preset:
        endpoint: "Featherless"
        model: "moonshotai/Kimi-K2.5"
        tools: ["tavily_search"]

    - name: "gpt-5-pro-agent"
      label: "GPT-5.2 Pro (Frontier Agent)"
      endpoint: "OpenRouter"
      model: "openai/gpt-5.2-pro"
      preset:
        endpoint: "OpenRouter"
        model: "openai/gpt-5.2-pro"
        tools: ["tavily_search"]

    - name: "deepseek-r1-logic"
      label: "DeepSeek R1 (Visa/Logic Agent)"
      endpoint: "Featherless" 
      model: "deepseek-ai/DeepSeek-R1"
      preset:
        endpoint: "Featherless"
        model: "deepseek-ai/DeepSeek-R1"
        tools: ["tavily_search"]

# --- FILE CONFIG ---
fileConfig:
  endpoints:
    default:
      supportedMimeTypes:
        - "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
        - "application/pdf"
        - "text/.*"
      fileLimit: 25485760

registration:
  registrationEnabled: false
  socialLogins: ["discord", "github", "google"]
  allowedEmails: ["${ADMIN_EMAIL}"]

# --- ENDPOINTS ---
endpoints:
  # Wakes up the Tool/Wrench system globally
  plugins:
    titleConvo: true
    titleModel: "current_model"

  custom:
    # 1. FIREWORKS (Native Speed)
    - name: "Fireworks"
      apiKey: "${FIREWORKS_API_KEY}"
      baseURL: "https://api.fireworks.ai/inference/v1"
      models:
        fetch: false 
        default: 
          - "accounts/fireworks/models/kimi-k2p5"
          - "accounts/fireworks/models/llama-v3p3-70b-instruct"
          - "accounts/fireworks/models/qwen2p5-72b-instruct"
          - "accounts/fireworks/models/deepseek-v3"
      actions: ["tavily_search"]
      customParams:
        defaultParamsEndpoint: "openAI"
      dropParams: ["stop", "user"]
      titleConvo: true

    # 2. OPENROUTER (2026 Frontier List - Fetch OFF for speed)
    - name: "OpenRouter"
      apiKey: "${OPENROUTER_KEY}"
      baseURL: "https://openrouter.ai/api/v1"
      models:
        fetch: false 
        default: 
          # --- USA Frontier ---
          - "openai/gpt-5.2"
          - "openai/gpt-5.2-pro"
          - "openai/gpt-oss-120b"
          - "anthropic/claude-4.6-opus"
          - "anthropic/claude-4.5-sonnet"
          - "google/gemini-3-pro-preview"
          - "google/gemini-3-flash-preview"
          # --- China Frontier ---
          - "moonshotai/kimi-k2.5"
          - "qwen/qwen3-max-thinking"
          - "deepseek/deepseek-v3.2"
          - "zhipu/glm-5"
      actions: ["tavily_search"]
      customParams:
        defaultParamsEndpoint: "openAI"
      dropParams: ["stop", "user"]
      titleConvo: true

    # 3. FEATHERLESS (Expert Agent-Fixed)
    - name: "Featherless"
      apiKey: "${FEATHERLESS_API_KEY}"
      # FIX: Full path + directEndpoint ensures Agents don't 404
      baseURL: "https://api.featherless.ai/v1/chat/completions"
      directEndpoint: true 
      # FIX: Forces the Agent backend to treat this as standard OpenAI
      provider: "openai" 
      models:
        fetch: false 
        default: 
          - "moonshotai/Kimi-K2.5"
          - "deepseek-ai/DeepSeek-R1"
          - "huihui-ai/Llama-3.3-70B-Instruct-abliterated"
          - "Qwen/Qwen2.5-72B-Instruct"
          - "Sao10K/L3.3-70B-Euryale-v2.3"
      actions: ["tavily_search"]
      customParams:
        defaultParamsEndpoint: "openAI"
      dropParams: ["stop", "user"]
      titleConvo: true

    # 4. TAVILY (Tool Provider)
    - name: "Tavily"
      apiKey: "${TAVILY_API_KEY}"
      baseURL: "https://api.tavily.com"
      models:
        default: ["tavily_search"]
      isCompanion: true
