version: "1.3.3"
cache: true

# --- INTERFACE SETTINGS ---
interface:
  agents: true
  prompts: true
  tools: true # This makes the Tool/Plugin menu appear in the UI
  artifacts: true
  modelSelect: true
  sidePanel: true
  bookmarks: true

# --- WE REMOVED THE WEBSEARCH BLOCK TO PREVENT THE ZOD ERROR ---

fileConfig:
  endpoints:
    default:
      supportedMimeTypes:
        - "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
        - "application/pdf"
        - "text/.*"
      fileLimit: 25485760

registration:
  registrationEnabled: false
  socialLogins: ["discord", "github", "google"]
  allowedEmails: ["${ADMIN_EMAIL}"]

endpoints:
  custom:
    # 1. FIREWORKS AI
    - name: "Fireworks"
      apiKey: "${FIREWORKS_API_KEY}"
      baseURL: "https://api.fireworks.ai/inference/v1"
      models:
        default: 
          - "accounts/fireworks/models/kimi-k2p5"
          - "accounts/fireworks/models/llama-v3p3-70b-instruct"
        fetch: true
      titleConvo: true
      titleModel: "current_model"

    # 2. OPENROUTER
    - name: "OpenRouter"
      apiKey: "${OPENROUTER_KEY}"
      baseURL: "https://openrouter.ai/api/v1"
      models:
        default: ["openai/gpt-4o", "google/gemini-pro-1.5", "anthropic/claude-3.5-sonnet"]
        fetch: true
      titleConvo: true

    # 3. FEATHERLESS
    - name: "Featherless"
      apiKey: "${FEATHERLESS_API_KEY}"
      baseURL: "https://api.featherless.ai/v1"
      models:
        default: ["meta-llama/Llama-3.3-70B-Instruct-Abliterated"]
        fetch: true
      titleConvo: true

    # 4. TAVILY (The Search Fix)
    - name: "Tavily"
      apiKey: "${TAVILY_API_KEY}"
      baseURL: "https://api.tavily.com"
      models:
        default: ["tavily_search"]
      isCompanion: true # This allows it to be used as a tool/plugin
      titleConvo: false
