version: "1.3.3"
cache: true

# --- INTERFACE ---
interface:
  agents: true
  prompts: true
  tools: true
  artifacts: true
  modelSelect: true 
  sidePanel: true
  bookmarks: true

# --- MODEL SPECS ---
modelSpecs:
  enforce: false
  prioritize: true
  # CRITICAL FIX: Keeps your OpenRouter and Fireworks menus visible in the sidebar
  addedEndpoints: ["Fireworks", "OpenRouter"]
  list:
    # --- CLAUDE 4.5 SONNET (OpenRouter) ---
    - name: "sonnet-4.5-agent"
      label: "Claude 4.5 Sonnet (Agentic Workhorse)"
      endpoint: "OpenRouter"
      model: "anthropic/claude-sonnet-4.5"
      preset:
        endpoint: "OpenRouter"
        model: "anthropic/claude-sonnet-4.5"
        tools: ["tavily_search"]
    # --- GEMINI 3 FLASH (OpenRouter) ---
    - name: "gemini-3-flash-agent"
      label: "Gemini 3 Flash (1M Token Agent)"
      endpoint: "OpenRouter"
      model: "google/gemini-3-flash-preview"
      preset:
        endpoint: "OpenRouter"
        model: "google/gemini-3-flash-preview"
        tools: ["tavily_search"]
    # --- KIMI K2.5 (Fireworks) ---
    - name: "kimi-k2.5-fast"
      label: "Kimi K2.5 (High-Speed Agent)"
      endpoint: "Fireworks"
      model: "accounts/fireworks/models/kimi-k2p5"
      preset:
        endpoint: "Fireworks"
        model: "accounts/fireworks/models/kimi-k2p5"
        tools: ["tavily_search"]

# --- FILE CONFIG ---
fileConfig:
  endpoints:
    default:
      supportedMimeTypes:
        - "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
        - "application/pdf"
        - "text/.*"
      fileLimit: 25485760

registration:
  registrationEnabled: false
  socialLogins: ["discord", "github", "google"]
  allowedEmails: ["${ADMIN_EMAIL}"]

# --- ENDPOINTS ---
endpoints:
  custom:
    # 1. FIREWORKS
    - name: "Fireworks"
      apiKey: "${FIREWORKS_API_KEY}"
      baseURL: "https://api.fireworks.ai/inference/v1"
      provider: "openai" # FIX: Forces Kimi to use standard tool calling
      plugins: true # FIX: Unlocks agent access
      models:
        fetch: false
        default:
          - "accounts/fireworks/models/kimi-k2p5"
          - "accounts/fireworks/models/llama-v3p3-70b-instruct"
          - "accounts/fireworks/models/qwen2p5-72b-instruct"
      actions: ["tavily_search"] # FIX: Registers tool access
      customParams:
        defaultParamsEndpoint: "openAI" # FIX: Formats tool payload correctly
      titleConvo: true
      titleModel: "current_model"
      dropParams: ["stop", "user"]

    # 2. OPENROUTER
    - name: "OpenRouter"
      apiKey: "${OPENROUTER_KEY}"
      baseURL: "https://openrouter.ai/api/v1"
      provider: "openai" # FIX: Stops Claude from outputting raw XML text
      plugins: true # FIX: Unlocks agent access
      models:
        fetch: false
        default:
          # --- FLAGSHIPS ---
          - "anthropic/claude-sonnet-4.5"
          - "anthropic/claude-opus-4.6"
          - "google/gemini-3-flash-preview"
          - "google/gemini-3-pro-preview"
          - "openai/gpt-5.2"
          # --- QWEN 3.5 SERIES ---
          - "qwen/qwen3.5-397b-a17b"
          - "qwen/qwen3.5-plus-02-15"
          # --- OTHERS ---
          - "openai/gpt-oss-120b"
          - "meta-llama/llama
